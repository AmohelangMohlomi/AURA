@page "/home"
@inject UserService UserService
@inject NavigationManager Nav

@if (UserService.CurrentUser is null)
{
    <p class="verse-text">Redirecting...</p>
}
else
{
    <h2 class="welcome-text">
        Welcome back, @UserService.CurrentUser.Name 💖
    </h2>
<PageTitle>AURA</PageTitle>

<div class="home-container">

    <h1 class="aura-title">AURA</h1>
    <h2 class="welcome-text">
        Welcome back, @UserService.CurrentUser!.Name 💖
    </h2>

    <p class="intro-text">
        I’m AURA — your goal, balance, and self-care bestie.
    </p>

    <div class="card">
        <h3 class="verse-text">🌸 Daily Verse</h3>
        <p class="verse-text">“@DailyVerse”</p>
    </div>

    <div class="card">
        <h3 class="verse-text">📅 Today</h3>
        <p class="verse-text">@DateTime.Now.ToString("dddd, dd MMMM yyyy")</p>
     
        <h3 class="daily-question">
            How would you like to start your day?
        </h3>

        <div class="start-options">
            <NavLink class="option-card" href="/meditation">
                Calm & Centered
            </NavLink>
             <NavLink class="option-card" href="/prayer">
                 Reflection & Prayer
            </NavLink>
             <NavLink class="option-card" href="/focus-discipline">
                Focus & Discipline
            </NavLink>
             <NavLink class="option-card" href="/self-care">
                 Gentle Self-Care
            </NavLink>
              <NavLink class="option-card" href="/aura-ai">
                 Therapy
            </NavLink>
             <NavLink class="option-card" href="/work-out">
                 Work Out
            </NavLink>
        </div>
        </div>

    <div class="card">
        <h3 class="verse-text">Words of Affirmation</h3>

            <p class="affirmation-category">
                @CurrentAffirmationCategory
            </p>

            <p class="verse-text">
                “@DailyAffirmation”
            </p>
</div>

    <footer class="aura-footer">
        AURA © 2025 
    </footer>

</div>

@code {
    // ---------------- DAILY VERSES ----------------
    string DailyVerse => verses[
        DateTime.Now.Day % verses.Length
    ];

    string[] verses = new[]
    {
        "Be still, and know that I am God. — Psalm 46:10",
        "I can do all things through Christ who strengthens me. — Philippians 4:13",
        "The Lord is my shepherd; I shall not want. — Psalm 23:1",
        "She is clothed with strength and dignity. — Proverbs 31:25",
        "Trust in the Lord with all your heart. — Proverbs 3:5"
    };

    // ---------------- AFFIRMATIONS ----------------

    // Convert dictionary to list for indexing
    List<KeyValuePair<string, string[]>> AffirmationList =>
        affirmationCategories.ToList();

    int DayIndex => DateTime.Now.Day % AffirmationList.Count;

    string CurrentAffirmationCategory =>
        AffirmationList[DayIndex].Key;

    string DailyAffirmation
    {
        get
        {
            var affirmations = AffirmationList[DayIndex].Value;
            return affirmations[
                DateTime.Now.Day % affirmations.Length
            ];
        }
    }

    Dictionary<string, string[]> affirmationCategories =
        new()
        {
            {
                "Spiritual",
                new[]
                {
                    "I am a child of God, deeply loved and divinely guided.",
                    "God’s peace guards my heart and mind today.",
                    "I walk by faith, not by fear."
                }
            },
            {
                "Motivation",
                new[]
                {
                    "I am disciplined even when motivation fades.",
                    "Small steps today lead to powerful results.",
                    "I finish what I start."
                }
            },
            {
                "Self-Love",
                new[]
                {
                    "I treat myself with patience and kindness.",
                    "I am worthy of rest, joy, and softness.",
                    "I do not need to earn my worth."
                }
            },
            {
                "Discipline",
                new[]
                {
                    "I choose consistency over comfort.",
                    "My future self thanks me for today’s effort.",
                    "I keep my promises to myself."
                }
            }
        };
}
}